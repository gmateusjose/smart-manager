{% extends "layout.html" %}

{% block body %}
<h1>Professors</h1>
	<legend>Add a new teacher:</legend>
	<form action="/professors" method="post">
		<input type="text" id="add-field" name="add-field" placeholder="Teacher's name">
		<button type="submit" id="add-button" name="add-button" disabled>Add</button>
	</form>

	<legend>Remove a teacher:</legend>
	<form action="/professors" method="post">
		<select id="rem-field" name="rem-field">
			<option value="">Select a teacher</option>
			{% for professor in professors %}
				<option value="{{ professor }}">{{ professor }}</option>
			{% endfor %}
		</select>
		<button type="submit" id="rem-button" name="rem-button" disabled>Remove</button>
	</form>
	
	<p>{{ error_msg }}</p>

	<legend>Teachers:</legend>
	<ul>
		{% for professor in professors %}
			<li>{{ professor }}</li>
		{% endfor %}
	</ul>

	<script>
		let add_field = document.querySelector('#add-field')
		add_field.onkeyup = function(){
			if (add_field.value === ''){
				document.querySelector('#add-button').disabled = true;
			} else {
				document.querySelector('#add-button').disabled = false;
			}
		}

		let rem_field = document.querySelector('#rem-field')
		rem_field.onchange = function(){
			console.log(rem_field.value)
			if (rem_field.value === ''){
				document.querySelector('#rem-button').disabled = true;
			} else {
				document.querySelector('#rem-button').disabled = false;
			}
		}
	</script>
{% endblock %}
